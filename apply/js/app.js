data = [
{date:"2014/5/12",name:"Initial（イニシャル）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010110101000010010100000000",link:"/apply/card/mufgcard_initial/index.html?cid=MUF_INI_999_INB_777_ALL_666_555_NON_00000002"}
, {date:"2014/5/12",name:"VIASOカード（浦和レッズデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_reds/index.html?cid=VIA_URW_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/5/12",name:"MUFGカード・イニシャル・アメリカン・エキスプレスR・カード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010110101000110010100000000",link:"/amex/apply/mufgcard_initial/index.html?cid=MUF_INA_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2014/5/12",name:"MUFGカード ゴールド",pay:"2095",annualfee:"2,095円（税込）",cond:"01011100101000001000110000000",link:"/apply/card/mufgcard_gold/index.html?cid=MUF_GOL_999_INB_777_ALL_666_555_NON_00000009"}
, {date:"2014/5/12",name:"MUFGカード・ゴールド・アメリカン・エキスプレスR・カード",pay:"2095",annualfee:"2,095円（税込）",cond:"01011100101000101000110000000",link:"/amex/apply/mufgcard_gold/index.html?cid=MUF_GOA_999_INB_777_ALL_666_555_NON_00000009"}
, {date:"2014/5/12",name:"MUFGカード・ゴールド・ビジネス・アメリカン・エキスプレスR・カード",pay:"2095",annualfee:"2,095円（税込）",cond:"01011000011000101000100000000",link:"/business/amex/apply/mufgcard_gold/index.html"}
, {date:"2014/5/12",name:"MUFGカード ゴールドプレステージ",pay:"11000",annualfee:"11,000円（税込）",cond:"01011100101000001000110000000",link:"/apply/card/mufgcard_goldprestige/index.html?cid=MUF_PRE_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2014/5/12",name:"MUFGカード・ゴールドプレステージ・アメリカン・エキスプレスR・カード",pay:"11000",annualfee:"11,000円（税込）",cond:"01011100101000101000110000000",link:"/amex/apply/mufgcard_goldprestige/index.html?cid=MUF_PRA_999_INB_777_ALL_666_555_NON_00000008"}
, {date:"2014/5/12",name:"MUFGカード・ゴールドプレステージ・ビジネス・アメリカン・エキスプレスR・カード",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000011000101000110000000",link:"/business/amex/apply/mufgcard_goldprestige/index.html"}
, {date:"2014/5/12",name:"MUFGカード ゴールドプレステージ ビジネス（Visa・MasterCard）",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000011000001000110000000",link:"/business/card/list/busi/mufgcard_goldprestige.html"}
, {date:"2014/5/12",name:"MUFGカード（ディズニー・デザイン）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010010101000010010100000110",link:"/apply/card/mufgcard_disney/index.html?cid=MUF_DIS_999_INB_777_ALL_666_555_NON_00000005"}
, {date:"2014/5/12",name:"MUFGカード ビジネス（Visa・MasterCard）",pay:"1375",annualfee:"1,375円（税込）",cond:"00010000011000010000000000000",link:"/business/card/list/busi/mufgcard.html"}
, {date:"2014/5/12",name:"MUFGカード・プラチナ・アメリカン・エキスプレスR・カード",pay:"22000",annualfee:"22,000円（税込）",cond:"01011100101000100100110000000",link:"/amex/apply/mufgcard_platinum/index.html?cid=MUF_PLA_999_INB_777_ALL_666_555_NON_00000016"}
, {date:"2014/5/12",name:"MUFGカード・プラチナ・ビジネス・アメリカン・エキスプレスR・カード",pay:"22000",annualfee:"22,000円（税込）",cond:"01011000011000100100110000000",link:"/business/amex/apply/mufgcard_platinum/index.html"}
, {date:"2014/11/17",name:"スヌーピーカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010010101000010010000000110",link:"/apply/card/mufgcard_snoopy/index.html"}
, {date:"2014/5/12",name:"DCカード（一般カード）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100100010000000000000",link:"/apply/card/dc/index.html?cid=DCC_IPN_999_INB_777_ALL_666_555_NON_00000002"}
, {date:"2014/5/12",name:"DCカード Jizile（ジザイル）",pay:"0",annualfee:"無料",cond:"11010000100100010000100000000",link:"/apply/card/dc_jizile/index.html?cid=DCC_JIZ_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/5/12",name:"DCゴールドカード",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100100001000110000000",link:"/apply/card/dc_gold/index.html?cid=DCC_GOL_999_INB_777_ALL_666_555_NON_00000002"}
, {date:"2014/5/12",name:"NICOS一般カード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010000000000000",link:"/apply/card/nicos/index.html"}
, {date:"2014/5/12",name:"VIASOカード",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso/index.html?cid=VIA_SIL_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2014/5/20",name:"VIASOカード（くまモンデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000110",link:"/apply/card/viaso_kumamon/index.html?cid=VIA_KMM_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/10/23",name:"VIASOカード（けいおん！デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_k-on/index.html?cid=VIA_KIO_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/9/8",name:"VIASOカード（ふなっしーデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000110",link:"/apply/card/viaso_274/index.html?cid=VIA_HNS_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/5/12",name:"VIASOカード（マイメロディデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000110",link:"/apply/card/viaso_mm/index.html?cid=VIA_MYM_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2014/5/12",name:"三菱UFJニコス ローンカード",pay:"0",annualfee:"無料",cond:"10000000100000010000000000001",link:"/loan/about/index.html"}
, {date:"2014/8/5",name:"アスキーカード",pay:"2145",annualfee:"2,145円（税込）",cond:"01010000100010010000000000000",link:"/apply/card/asciicard/index.html"}
, {date:"2014/5/12",name:"ENEOSカード",pay:"1375",annualfee:"1,375円（税込）",cond:"00010000100010010001000011000",link:"/apply/card/eneos/index.html"}
, {date:"2014/5/12",name:"KIPS MUFGカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000101000010001001000000",link:"/apply/card/kips/index.html"}
, {date:"2014/5/12",name:"京急プレミア ポイント ゴールド HANEDA AIRPORT PLUS",pay:"2095",annualfee:"2,095円（税込）",cond:"01001000101000001001111000000",link:"/landing/mufgcard/apply/keikyu_point_gold/index.html"}
, {date:"2014/5/12",name:"京成ポイントカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/keisei_point/index.html"}
, {date:"2014/5/12",name:"GDO MUFG CARD Gold American ExpressR Card",pay:"3300",annualfee:"3,300円（税込）",cond:"01011000101000101001110100000",link:"/amex/apply/gdo_gold/index.html"}
, {date:"2014/5/12",name:"GDO MUFG CARD Gold Visa",pay:"3300",annualfee:"3,300円（税込）",cond:"01011000101000001001100100000",link:"/apply/card/gdo_mufgcard_gold/index.html"}
, {date:"2014/5/12",name:"GDO MUFG CARD Platinum American ExpressR Card",pay:"26400",annualfee:"26,400円（税込）",cond:"01011000101000100101110100000",link:"/amex/apply/gdo_platinum/index.html"}
, {date:"2014/5/12",name:"GDOカード（一般）",pay:"0",annualfee:"無料",cond:"11010000100100010001000100000",link:"/apply/card/gdo/index.html"}
, {date:"2014/5/12",name:"GDOカード（ゴールド）",pay:"15746",annualfee:"15,746円（税込）",cond:"01011000100100001001110100000",link:"/apply/card/gdo_gold/index.html"}
, {date:"2014/5/12",name:"JRA DC CARD（一般カード）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100100010001000100100",link:"/apply/card/jra/index.html"}
, {date:"2017/4/14",name:"JMB KIPSカード（一般カード）",pay:"1320",annualfee:"データ維持料 最大1,320円（税込）",cond:"01110000100100010001001000000",link:"/landing/dc/jmbkips/index.html"}
, {date:"2017/4/14",name:"JMB KIPSカード（ゴールド）",pay:"11000",annualfee:"11,000円（税込）",cond:"01111000100100001001111000000",link:"/landing/dc/jmbkips/index.html"}
, {date:"2014/5/12",name:"シェル スターレックス カード【シェルわいわいコース】",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010000000000000",link:"/apply/card/shellstarlex_waiwai/index.html"}
, {date:"2014/5/12",name:"シェル スターレックス カード【スタープライズコース】",pay:"1375",annualfee:"1,375円（税込）",cond:"00010000100010010001000011000",link:"/apply/card/shellstarlex_star/index.html"}
, {date:"2014/5/12",name:"シェル スターレックス ゴールドカード【シェルゴールドポイントコース】",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001000110000000",link:"/apply/card/shellstarlex_gold_point/index.html"}
, {date:"2014/5/12",name:"シェル スターレックス ゴールドカード【スタープライズコース】",pay:"13200",annualfee:"13,200円（税込）",cond:"00011000100010001001110011000",link:"/apply/card/shellstarlex_gold_star/index.html"}
, {date:"2014/5/12",name:"シナジーカード／ENEOS CBカード",pay:"2160",annualfee:"2,160円（税込）",cond:"00010000100010010001000011000",link:"/apply/card/synergy/index.html"}
, {date:"2014/5/12",name:"JAL アメリカン・エキスプレスR・カード（普通カード）",pay:"6600",annualfee:"6,600円（税込）",cond:"00110000101000110000111000000",link:"/amex/apply/jalamex/normal/index.html"}
, {date:"2014/5/12",name:"JAL アメリカン・エキスプレスR・カード （CLUB-Aゴールドカード）",pay:"20900",annualfee:"20,900円（税込）",cond:"00111000101000101000111000000",link:"/amex/apply/jalamex/clubagold/index.html"}
, {date:"2014/5/12",name:"JAL アメリカン・エキスプレスR・カード　プラチナ",pay:"34100",annualfee:"34,100円（税込）",cond:"00111000101000100100111000000",link:"/amex/apply/jalamex/platinum/index.html"}
, {date:"2014/5/12",name:"JALカード（CLUB-A）",pay:"11000",annualfee:"11,000円（税込）",cond:"00110000100100010000101000000",link:"/apply/card/jal_cluba/index.html"}
, {date:"2014/5/12",name:"JALカード（CLUB-Aゴールドカード）",pay:"17600",annualfee:"17,600円（税込）",cond:"00111000100100001000111000000",link:"/apply/card/jal_cluba_gold/index.html"}
, {date:"2014/5/12",name:"JALカード（navi）",pay:"0",annualfee:"無料",cond:"10110010100100000010101000000",link:"/apply/card/jal_navi/index.html"}
, {date:"2014/5/12",name:"JALカード（普通カード）",pay:"2200",annualfee:"2,200円（税込）",cond:"00110000100100010000101000000",link:"/apply/card/jal/index.html"}
, {date:"2019/4/1",name:"SKYPASS MUFG CARD Platinum American ExpressR Card",pay:"22000",annualfee:"22,000円（税込）",cond:"00111000101000100101110000000",link:"/landing/amex/apply/skypass/index.html"}
, {date:"2019/4/1",name:"SKYPASS DCカード",pay:"3300",annualfee:"3,300円（税込）",cond:"00110000100100010001100000000",link:"/apply/card/skypass/index.html"}
, {date:"2019/4/1",name:"SKYPASS DCカード（ゴールド）",pay:"11000",annualfee:"11,000円（税込）",cond:"00111000100100001001110000000",link:"/apply/card/skypass_gold/index.html"}
, {date:"2014/5/12",name:"スギグループNICOSカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010000000000000",link:"/apply/card/sugi/index.html"}
, {date:"2014/5/12",name:"鈴鹿サーキットファンクラブカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000101000010000000100000",link:"/apply/card/suzuka/index.html"}
, {date:"2014/5/12",name:"鈴鹿サーキットファンクラブカード（ゴールドプレステージ）",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000101000001000110100000",link:"/apply/card/suzuka_gold/index.html"}
, {date:"2014/5/12",name:"セントレアゴールドカード",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000101000001001111110000",link:"/apply/card/centrair_gold/index.html"}
, {date:"2014/5/12",name:"セントレアプレミアムカード",pay:"3300",annualfee:"3,300円（税込）",cond:"01010000101000010001011100000",link:"/apply/card/centrair/index.html"}
, {date:"2014/5/12",name:"DC Honda Cカード",pay:"1650",annualfee:"1,650円（税込）",cond:"01010000100100010001000010000",link:"/apply/card/dc_hondac/index.html"}
, {date:"2014/5/12",name:"DC Honda Cカード（ゴールド）",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100100001001110010000",link:"/apply/card/dc_hondac_gold/index.html"}
, {date:"2014/5/12",name:"ディノスカード",pay:"2095",annualfee:"2,095円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/dinos/index.html"}
, {date:"2014/5/12",name:"Tokyo Metro To Me CARD ゴールド",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001001111000000",link:"/apply/card/tokyometro_gold/index.html"}
, {date:"2014/5/12",name:"Tokyo Metro To Me CARD PASMO ゴールド",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001001111000000",link:"/apply/card/tokyometro_gold_pasmo/index.html"}
, {date:"2014/5/12",name:"Tokyo Metro To Me CARD Prime",pay:"2200",annualfee:"2,200円（税込）",cond:"01010000100010010001001000000",link:"/apply/card/tokyometro_prime/index.html"}
, {date:"2014/5/12",name:"Tokyo Metro To Me CARD Prime PASMO",pay:"2200",annualfee:"2,200円（税込）",cond:"01010000100010010001001000000",link:"/apply/card/tokyometro_prime_pasmo/index.html"}
, {date:"2014/5/12",name:"ぴあ NICOSカード",pay:"4180",annualfee:"4,180円（税込）",cond:"01010000100010010001000100000",link:"/apply/card/pia/index.html"}
, {date:"2014/5/12",name:"BMW Card",pay:"5238",annualfee:"5,238円（税込）",cond:"01010000101000010001010010000",link:"/apply/card/bmw/index.html"}
, {date:"2014/5/12",name:"Miles &amp; More MUFGカード",pay:"5500",annualfee:"5,500円（税込）",cond:"00110000101000001001110000000",link:"/apply/card/miles_more/index.html"}
, {date:"2014/5/12",name:"Miles &amp; More MUFG CARD Platinum American Express&reg; Card",pay:"30800",annualfee:"30,800円（税込）",cond:"00111000101000100101110000000",link:"/amex/apply/miles_more/index.html"}
, {date:"2014/5/12",name:"MileagePlus MUFGカード",pay:"5500",annualfee:"5,500円（税込）",cond:"00110000101000001001110000000",link:"/apply/card/mileageplus/index.html"}
, {date:"2014/5/12",name:"MileagePlus MUFGカード・ゴールドプレステージ・アメリカン・エキスプレスR・カード",pay:"16500",annualfee:"16,500円（税込）",cond:"00111000101000101001110000000",link:"/amex/apply/mileageplus_goldprestige/index.html"}
, {date:"2014/5/12",name:"MileagePlus MUFGカード ゴールドプレステージ（Visa）",pay:"16500",annualfee:"16,500円（税込）",cond:"00111000101000001001110000000",link:"/apply/card/mileageplus_goldprestige/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤ",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/mec/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤゴールド",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001001110000000",link:"/apply/card/mec_gold/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤゴールド（丸の内カード一体型）",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001001110000000",link:"/apply/card/mec_marunouchi_gold/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤゴールド（みなとみらいポイントカード一体型）",pay:"11000",annualfee:"11,000円（税込）",cond:"01011000100010001001110000000",link:"/apply/card/mec_mm_gold/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤ（丸の内カード一体型）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/mec_marunouchi/index.html"}
, {date:"2014/5/12",name:"三菱地所グループＣＡＲＤ（みなとみらいポイントカード一体型）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/mec_mm/index.html"}
, {date:"2014/11/17",name:"三菱地所グループＣＡＲＤ（ザ クラブ・ロイヤルパークホテルズ）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/mec_royalparkhotels/index.html"}
, {date:"2014/5/12",name:"MINI Card",pay:"4191",annualfee:"4,191円（税込）",cond:"01010000101000010001010010100",link:"/apply/card/mini/index.html"}
, {date:"2014/5/12",name:"MEITETSU μ's Card（一般）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000101000010001101000000",link:"/apply/card/meitetsu_ms/index.html"}
, {date:"2014/5/12",name:"MEITETSU μ's Card（学生）",pay:"1375",annualfee:"1,375円（税込）",cond:"01010010101000000011101000000",link:"/apply/card/meitetsu_ms/index.html"}
, {date:"2014/5/12",name:"MEITETSU μ's Card ゴールドプレステージ",pay:"13750",annualfee:"13,750円（税込）",cond:"01011000101000001001111000000",link:"/apply/card/meitetsu_ms_goldprestige/index.html"}
, {date:"2014/5/12",name:"リクルートカード",pay:"0",annualfee:"無料",cond:"11010000101000010000000000000",link:"/apply/card/recruit/index.html"}
, {date:"2014/12/15",name:"VIASOカード（トランスフォーマーデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_tf/index.html?cid=VIA_TRN_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2015/1/22",name:"VIASOカード（ラブライブ！デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_ll/index.html?cid=VIA_LVL_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2015/1/22",name:"玉川高島屋S・Cカードインターナショナル[盲導犬育成サポートカード]",pay:"1100",annualfee:"1,100円（税込）",cond:"01010000100010010001000000000",link:"/apply/card/tamagawa_sc_supportdog/index.html"}
, {date:"2015/2/6",name:"Cathay Pacific MUFG CARD Platinum American ExpressR Card",pay:"27500",annualfee:"27,500円（税込）",cond:"00111000101000100101110000000",link:"/amex/apply/cathay_pacific/index.html"}
, {date:"2015/2/6",name:"キャセイパシフィック MUFGカード ゴールド MastercardR ",pay:"5500",annualfee:"5,500円（税込）",cond:"00111000101000001001110000000",link:"/apply/card/cathay_pacific/index.html"}
, {date:"2015/3/20",name:"シェル-Pontaクレジットカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010000100010010000000010000",link:"/apply/card/shellponta/index.html"}
, {date:"2015/9/1",name:"リーガロイヤルクラシックカード",pay:"1650",annualfee:"1,650円（税込）",cond:"01010000100010010001000100000",link:"/apply/card/rihga_royal/index.html"}
, {date:"2015/9/10",name:"VIASOカード（ぐでたま デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000110",link:"/apply/card/viaso_gudetama/index.html?cid=VIA_GDT_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2015/10/8",name:"VIASOカード（Wake Up, Girls！デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_wug/index.html?cid=VIA_WUG_999_INB_777_ALL_666_555_NON_00000003"}
, {date:"2015/12/16",name:"JAカード キャッシュカード一体型",pay:"1375",annualfee:"1,375円（税込）",cond:"01010001100011010001100111100",link:"/apply/card/ja/cash_001/index.html"}
, {date:"2015/12/16",name:"JAカード キャッシュカード一体型（ロードアシスタンスサービス付き）",pay:"1870",annualfee:"1,870円（税込）",cond:"01010001100011010001100111000",link:"/apply/card/ja/cash_002/index.html"}
, {date:"2015/12/16",name:"JAゴールドカード キャッシュカード一体型",pay:"11000",annualfee:"11,000円（税込）",cond:"01011001100011001001110111000",link:"/apply/card/ja/cash_003/index.html"}
, {date:"2015/12/16",name:"JAカード クレジットカード単機能型",pay:"1375",annualfee:"1,375円（税込）",cond:"01010001100011010001100111100",link:"/apply/card/ja/credit_001/index.html"}
, {date:"2015/12/16",name:"JAカード クレジットカード単機能型（ロードアシスタンスサービス付き）",pay:"1870",annualfee:"1,870円（税込）",cond:"01010001100011010001100111000",link:"/apply/card/ja/credit_002/index.html"}
, {date:"2015/12/16",name:"JAゴールドカード クレジットカード単機能型",pay:"11000",annualfee:"11,000円（税込）",cond:"01011001100011001001110111000",link:"/apply/card/ja/credit_003/index.html"}
, {date:"2015/11/12",name:"VIASOカード（弱虫ペダルデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000110",link:"/apply/card/viaso_yowapeda/index.html"}
, {date:"2016/3/22",name:"MUFGカード スマート",pay:"1100",annualfee:"1,100円（税込）",cond:"01010111101000110010000000000",link:"/apply/card/mufgcard_smart/index.html"}
, {date:"2016/6/30",name:"BMW100周年記念デザイン BMW Card",pay:"5238",annualfee:"5,238円（税込）",cond:"01010000101000010001010010000",link:"/apply/card/bmw_100/index.html"}
, {date:"2018/11/30",name:"TEPCOカード（一般）",pay:"1375",annualfee:"1,375円（税込）",cond:"01000000100100010001100000000",link:"/apply/card/tepco/index.html"}
, {date:"2018/11/30",name:"TEPCOカード（ゴールド）",pay:"11000",annualfee:"11,000円（税込）",cond:"01001000100100001001110000000",link:"/apply/card/tepco_gold/index.html"}
, {date:"2017/5/22",name:"VIASOカード（ファイナルファンタジーXIVデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_ffxiv/index.html?cid=VIA_FFX_999_INB_777_ALL_666_555_NON_00000004"}
, {date:"2017/6/13",name:"SHISEIDOカードEX",pay:"1375",annualfee:"1,375円（税込）",cond:"01000000100010010001000000000",link:"/apply/card/shiseido/index.html"}
, {date:"2018/12/3",name:"Tokyo Metro To Me CARD Prime 地下鉄開通90周年限定カード",pay:"2200",annualfee:"2,200円（税込）",cond:"01010000100010010001001000000",link:"/apply/card/tokyometro_prime_90/index.html"}
, {date:"2018/12/3",name:"Tokyo Metro To Me CARD Prime PASMO 地下鉄開通90周年限定カード",pay:"2200",annualfee:"2,200円（税込）",cond:"01010000100010010001001000000",link:"/apply/card/tokyometro_prime_pasmo_90/index.html"}
, {date:"2019/6/3",name:"VIASOカード（シナモロールデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_cinnamon/index.html?cid=VIA_CIN_999_INB_777_ALL_666_555_NON_00000001"}
, {date:"2019/8/26",name:"VIASOカード（ファイナルファンタジーXIV天野喜孝ロゴ デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_ffxiv_2/index.html?cid=VIA_FF2_999_INB_777_ALL_666_555_NON_00000001"}
, {date:"2019/10/28",name:"VIASOカード（コウペンちゃん デザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_koupenchan/index.html?cid=VIA_KOP_999_INB_777_ALL_666_555_NON_00000001"}
, {date:"2020/3/18",name:"VIASOカード（スヌーピーデザイン）",pay:"0",annualfee:"無料",cond:"11010100100010010000000000100",link:"/apply/card/viaso_snoopy/index_01.html"}
, {date:"2020/3/18",name:"スヌーピーカード",pay:"1375",annualfee:"1,375円（税込）",cond:"01010110101000010000000000110",link:"/apply/card/mufgcard_snoopy/index_01.html"}
]

window.addEventListener('DOMContentLoaded', function(){
	var searchCheck = document.querySelectorAll('#search input:not(.acdCheck)')
	var freeCheck = document.getElementById('input1')
	var cardTotal = document.querySelector('.cardTotal')
	var sortAnnualFeeArea = document.querySelector('.sortAnnualFee')
	var sortAnnualFeeBtn = document.querySelectorAll('.sortAnnualFee input')
	var switchDisplayArea = document.querySelector('.switchDisplay')
	var switchDisplayBtn = document.querySelector('.switchDisplayBtn')
	var btnCompare = document.querySelectorAll('.btnCompare')
	var moreBlock = document.querySelector('.moreBlock')
	var btnMore = document.querySelector('.btnMore')
	var compareCardItem = document.querySelectorAll('#compareCard .cardItem')

	var moreCount = 1
	var resultArr = []

	// data 整形
	var dataFormatting = function() {
		for (var U = 0, R = data.length; R > U; U++) {
			data[U].initial = U
		}
		var resultItem = document.querySelectorAll('.resultItem')
		for (var i = 0, len = resultItem.length; i < len; i++) {
			resultItem[i].setAttribute('data-initial', i)
			resultItem[i].querySelector('.btnCompare').setAttribute('data-initial', i)
			resultItem[i].setAttribute('data-pay', data[i].pay)
			resultItem[i].classList.add('is-hidden')
		}
		resultItem = document.querySelectorAll('.resultItem')
		resultArr = []

		// カード比較DB連結
		// TODO: 全くのダミー処理なので決定データで再考
		for (var i = 0, len = resultItem.length; i < len; i++) {
			resultArr[i] = {
				initial: i,
				date: data[i].date,
				name: data[i].name,
				pay: data[i].pay,
				annualfee: data[i].annualfee,
				cond: data[i].cond,
				img: '/apply/tmp/img/dummy_02.jpg',
				link: data[i].link,
				html: resultItem[i]
			}
		}

//		console.log(resultArr)
	}

	// 比較履歴取得
	var selectCard = []
	var getCompareCardHistory = function() {
		var selected = sessionStorage.getItem('_compareCard')
		if (selected !== null && selected.length !== 0) {
			selectCard = selected.split(',')
			selectCard = selectCard.filter(Boolean)
			setSelectedCardItem()
			setSelectedCard()
			document.querySelector('.compareFixBlock').classList.add('is-selected')
		}
	}

	// 比較履歴からの一覧表示選択済み処理
	var setSelectedCardItem = function() {
		for (var i = 0, len = selectCard.length; i < len; i++) {
			var item = document.querySelector('[data-initial="' + selectCard[i] + '"]')
			item.classList.add('is-selected')
			item.querySelector('.btnCompare').classList.add('is-selected')
		}
	}

	// set 比較カード
	var setSelectedCard = function() {
		for (var i = 0, len = selectCard.length; i < len; i++) {
			var item = compareCardItem[i]
			if (item.querySelector('.deleteCardChk').checked) {
				item.querySelector('.deleteCardChk').setAttribute('value', resultArr[selectCard[i]].initial)
				item.querySelector('.deleteCardChk').checked = false
				item.querySelector('.cardName').textContent = resultArr[selectCard[i]].name

				var img =  document.createElement('img')
				img.setAttribute('src', resultArr[selectCard[i]].img)
				item.querySelector('.cardImg').appendChild(img)
			}
		}
	}

	// 比較削除
	var deselectionCard = function(id) {
		var item = document.querySelector('[data-initial="' + id + '"]')
		item.classList.remove('is-selected')
		item.querySelector('.btnCompare').classList.remove('is-selected')
		for (var i = 0, len = compareCardItem.length; i < len; i++) {
			compareCardItem[i].querySelector('.deleteCardChk').checked = true
			compareCardItem[i].querySelector('.deleteCardChk').removeAttribute('value')
			if (compareCardItem[i].querySelector('img') !== null) {
				compareCardItem[i].querySelector('img').remove()
			}
		}
		if (selectCard.length === 0) {
			document.querySelector('.compareFixBlock').classList.remove('is-selected')
		}
		setSelectedCard()
	}

	// 年会費：安い順
	var sortLow = function() {
		resultArr.sort(function(a,b){
			if(a.pay < b.pay) return -1
			if(a.pay > b.pay) return 1
			return 0
		})
		changeResultList()
	}

	// 年会費：高い順
	var sortHigh = function() {
		resultArr.sort(function(a,b){
			if(a.pay > b.pay) return -1
			if(a.pay < b.pay) return 1
			return 0
		})
		changeResultList()
	}

	// ID順
	var sortId = function() {
		resultArr.sort(function(a,b){
			if(a.initial < b.initial) return -1
			if(a.initial > b.initial) return 1
			return 0
		})
		sortFlag = 0
		changeResultList()
	}

	// check 抽出
	var searchCheckValue = []
	var searchCheckValueAdd = function() {
		searchCheckValue = []
		for (var i = 0, len = searchCheck.length; i < len; i++) {
			if (searchCheck[i].checked) {
				searchCheckValue.push(Number(searchCheck[i].value))
			}
		}

		if (searchCheckValue.length > 0 && freeCheck.checked === false) {
			showSortAnnualFee()
		} else {
			hideSortAnnualFee()
		}
	}

	// data 判定
	var checkData = function() {
		var count = 0
		if (document.querySelector('.tooltipWrap') !== null) {
			document.querySelector('.tooltipWrap').remove()
		}
		for (var i = 0, len = resultArr.length; i < len; i++) {
			var flag1 = 0, flag0 = 0
			for (var j = 0, len2 = searchCheckValue.length; j < len2; j++) {
				if (resultArr[i].cond.charAt(searchCheckValue[j]) === '1') {
					flag1 = 1
				} else {
					flag0 = 1
				}
			}
			var target = document.querySelector('[data-initial="' + resultArr[i].initial + '"]')
			target.classList.add('is-hidden')
			target.classList.remove('first-child')
			if (flag1 === 1 && flag0 === 0) {
				if (count < 10 * moreCount) {
					target.classList.remove('is-hidden')
				}
				if (count === 0) {
					target.classList.add('first-child')
					target.querySelector('.btnBlock .r').insertAdjacentHTML('beforeend', tooltip)
				}
				count++
			}
		}

		// 件数表示
		cardTotal.textContent = count

		if (count === 0) {
			hideSortAnnualFee()
			hideSwitchDisplay()
			if (sortFlag === 1) {
				sortId()
				for (var i = 0, len = sortAnnualFeeBtn.length; i < len; i++) {
					sortAnnualFeeBtn[i].checked = false
				}
			}
		} else {
			showSwitchDisplay()
		}

		if (count >= 10 && count > 10 * moreCount) {
			showMoreBlock()
		} else {
			hideMoreBlock()
			moreCount = 1
		}
	}

	// DOM 入れ替え
	var changeResultList = function() {
		var list = document.querySelector('.resultList')
		while (list.firstChild) {
			list.removeChild(list.firstChild)
		}

		for (var i = 0, len = resultArr.length; i < len; i++) {
			list.appendChild(resultArr[i].html)
		}

		checkData()
	}

	// 表示／非表示
	var showSortAnnualFee = function() {
		sortAnnualFeeArea.classList.remove('is-hidden')
	}
	var hideSortAnnualFee = function() {
		sortAnnualFeeArea.classList.add('is-hidden')
	}
	var showSwitchDisplay = function() {
		switchDisplayArea.classList.remove('is-hidden')
	}
	var hideSwitchDisplay = function() {
		switchDisplayArea.classList.add('is-hidden')
	}
	var showMoreBlock = function() {
		moreBlock.classList.remove('is-hidden')
	}
	var hideMoreBlock = function() {
		moreBlock.classList.add('is-hidden')
	}

	// tooltip
	var tooltip = '<div class="tooltipWrap"><input type="checkbox" class="tooltipchk" id="tooltip01"><div class="tooltip"><label for="tooltip01"></label>チェックしてカードを比較</div></div>'

	// ****************************************
	// event
	// ****************************************
	// 条件絞り込み
	for (var i = 0, len = searchCheck.length; i < len; i++) {
		searchCheck[i].addEventListener('change', function(e){
			searchCheckValueAdd()
			checkData()
		}, false)
	}

	// 年会費ソート
	var sortFlag = 0
	for (var i = 0, len = sortAnnualFeeBtn.length; i < len; i++) {
		sortAnnualFeeBtn[i].addEventListener('change', function(e){
			if (e.target.value === '1') {
				sortLow()
			} else {
				sortHigh()
			}
			sortFlag = 1
		}, false)
	}

	// 表示切り替え
	switchDisplayBtn.addEventListener('click', function(e){
		var target = document.getElementById('result')
		if (target.className.indexOf('grid') > -1) {
			target.classList.remove('grid')
		} else {
			target.classList.add('grid')
		}
	}, false)

	// カード比較追加
	for (var i = 0, len = btnCompare.length; i < len; i++) {
		btnCompare[i].addEventListener('click', function(e){
			var id = e.currentTarget.getAttribute('data-initial')
			if (selectCard.length < 4) {
				if (e.currentTarget.className.indexOf('is-selected') === -1) {
					selectCard.push(id)
				}
				document.querySelector('[data-initial="' + id + '"]').classList.add('is-selected')
				e.currentTarget.classList.add('is-selected')
			} else {
				alert('4件追加済み');
			}

			// 履歴保存
			sessionStorage.setItem('_compareCard', selectCard)

			setSelectedCard()
			document.querySelector('.compareFixBlock').classList.add('is-selected')
		}, false)
	}

	btnMore.addEventListener('click', function(e){
		moreCount++
		checkData()
	}, false)

	// カード比較削除
	compareCardItemArr = [].slice.call(compareCardItem)
	for (var i = 0, len = compareCardItem.length; i < len; i++) {
		var item = compareCardItem[i]
		item.querySelector('.deleteCardChk').addEventListener('change', function(e) {
			var parent = e.target.parentNode
			var index = compareCardItemArr.indexOf(parent)
			selectCard.splice(index, 1)

			deselectionCard(e.target.value)

			// 履歴保存
			sessionStorage.setItem('_compareCard', selectCard)
		})
	}

	// ****************************************
	// init
	// ****************************************
	var init = function() {
		dataFormatting()
		getCompareCardHistory()
	}
	init()

}, false)